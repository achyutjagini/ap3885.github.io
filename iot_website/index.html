<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Columbia University EECS E4764 IoT Project Report Group #11</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body>

		<!-- Header -->
			<div id="header">

				<div class="top">

					<!-- Logo -->
						<div id="logo">
							<!-- <span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span> -->
							<h1 id="title">IoT Based Smart Lock and Home Automation System</h1>
							<p>Columbia University <br>
								EECS E4764 Fall'20 Internet of Things<br>
								Intelligent and Connected Systems<br>
								Team 11 Project Report
							</p>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<!--

								Prologue's nav expects links in one of two formats:

								1. Hash link (scrolls to a different section within the page)

								   <li><a href="#foobar" id="foobar-link" class="icon fa-whatever-icon-you-want skel-layers-ignoreHref"><span class="label">Foobar</span></a></li>

								2. Standard link (sends the user to another page/site)

								   <li><a href="http://foobar.tld" id="foobar-link" class="icon fa-whatever-icon-you-want"><span class="label">Foobar</span></a></li>

							-->
							<ul>
								<li><a href="#top" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Abstract</span></a></li>
								<li><a href="#motivation" id="motivation-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Motivation</span></a></li>
								<li><a href="#system" id="system-link" class="skel-layers-ignoreHref"><span class="icon fa-th">System</span></a></li>
								<li><a href="#results" id="results-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Results</span></a></li>
								<li><a href="#references" id="references-link" class="skel-layers-ignoreHref"><span class="icon fa-th">References</span></a></li>
								<li><a href="#team" id="team-link" class="skel-layers-ignoreHref"><span class="icon fa-user">Our Team</span></a></li>
								<li><a href="#contact" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-envelope">Contact</span></a></li>
							</ul>
						</nav>

				</div>

				<div class="bottom">

					<!-- Social Icons -->
						<!-- <ul class="icons">
							<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon fa-github"><span class="label">Github</span></a></li>
							<li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
							<li><a href="#" class="icon fa-envelope"><span class="label">Email</span></a></li>
						</ul> -->

				</div>

			</div>

		<!-- Main -->
			<div id="main">

				<!-- Intro -->
					<section id="top" class="one dark cover">
						<div class="container">

								<iframe width="560" height="315" src="https://www.youtube.com/embed/n1GiyBmvuCQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

								<h2 class="alt">IoT Based Smart Lock and Home Automation System</h2>
						
								<p align="justify">The advent of the Internet of Things has given us the ability to incorporate embedded intelligence in many existing systems (such as lighting, thermostats, watches etc.) as well as invent new devices and applications. Embedding devices or other systems in the home with the ability to sense, ‘think’, and control not only improves the users’ ease and quality of living, but can also reduce human errors and inefficiency. </p>
								<p align="justify">Our project takes a ubiquitous everyday object- a door lock- and enables it to be controlled via a smartphone application, as well as providing additional functionalities of automation, alerting, and monitoring.</p>
								<p align="justify">A WiFi microcontroller (the Adafruit Feather Huzzah) is used to control the lock/unlock mechanism with a servo motor, power devices on/off with relays, sense motion with a PIR sensor, and capture potential guests/intruders using a camera. The microcontroller is also responsible for communicating with the smartphone(s).</p>
								<p align="justify">The smart lock allows authorized and registered users to lock or unlock their door and control devices using a smartphone application when they are in the home. Additionally, it can provide weather and traffic updates when the user leaves the house.</p>


						</div>
					</section>

				<!-- Portfolio -->
					<section id="motivation" class="two">
						<div class="container">

							<header>
								<h2>Motivation</h2>
							</header>

							<p align="justify">The Smart Lock and Home Automation System provides additional functionality to a user’s smartphone device by streamlining manual processes and automating them through an accessible app. Our aim was to maintain security, improve ease, and save time for the users while giving them more control over and information about their home and its immediate surroundings.</p> 
							<p align="justify">With our system, only administrator-authorized users can unlock and lock their door through a secure app with the touch of a button. Registered users can automate their home appliances and devices by enabling them to be turned on and off via the application once they enter the home. This improves ease while maintaining security without the need for a physical key.</p>
							<p align="justify"> The system also instantly provides information about the user’s local traffic and weather in the app when it is sensed that they are leaving home. This information can help the user plan their outing before they have gone too far from home, saving time and avoiding inconvenience.</p>
							<p align="justify">An additional feature of our lock captures and stores an image of anyone who triggers the motion sensor and waits or lingers outside the door for some time. This image can be accessed by the user through the smartphone app. This can enable users to monitor potentially suspicious activity outside their door remotely, which increases security and gives the user more access to the activity near their home from anywhere.</p>



						</div>
					</section>


					<section id="system" class="three">
						<div class="container">

							<header>
								<h2>System</h2>
							</header>

							<p align="justify">The system comprises of three microcontrollers: one microcontroller controls the unlock/lock mechanism, APIs and data management, one is responsible for the devices and LEDs as a visual indicator of the current device status, and the third runs code for the PIR sensor, camera and image transfer.</p> 

							<p align = "justify">The smartphone application allows the user to create a secure ID and allows authorized users to control the unlock/lock feature and turn devices on/off when logged in to the app at home. The user also receives relevant weather and traffic notifications when they leave the house based on their location. If someone is sensed to be waiting or lingering outside the door, an image is captured and stored. This image is accessible to the user through the app.</p>

							<h3 align="left">Architecture</h3>

							<p align="left"><a href="#" class="image fit"><img src="images/diagram.jpg" alt="System Architeure" /></a></p>


							<h3 align="left">Technical Components</h3>

							<p align="left">The following components were used in our system:</p>
							<ul>
								<li>ESP8266 Featherwing Huzzah</li>
								<li>OLED 128x32</li>
								<li>PIR sensor</li>
								<li>Servo motor</li>
								<li>NEO Pixel LEDs</li>
								<li>Power relays connected to devices (lamp and smartphone charger)</li>
								<li>ArduCAM 0V2640</li>
							</ul>


							<h3 align="left">Prototype</h3>

							<h4 align="left">Smartphone Application</h4>

							<p align="left">The smartphone application allows users to securely login with a valid Google ID. An administrator account is able to add/remove authorized users to be able to access the functionalities of the system through the app. </p>
							<p align="left">Once signed in, the user can use the swipe button to lock/unlock the door and toggle the button for connected devices to turn them on/off. </p>
							<p align="left"> When the user locks their door to leave the house, local weather and traffic updates are received and displayed on the screen. This contains information about the temperature, weather predictions, traffic congestion, and nearby road closures. </p>
							<p align="left"> A button can be used to access the last image captured by the camera when the motion detector senses the presence of a possible guest or intruder lingering outside the door.</p>
							<a href="#"  ><img src="images/login.jpg" alt="Login Screen" width="276.6" height="600"/></a>
							<a href="#" ><img src="images/registerscreen.jpg" alt="Register Screen" width="276.6" height="600"/></a>
							<a href="#" ><img src="images/homescreen.jpg" alt="Home Screen" width="276.6" height="600"/></a>
							<article class="item">
								<header>
									<h3>The images below display the login page of our app (left), the registration screen (middle), and the home screen of our app (right). The login page allows users to sign into the app, login into the admin account to register, sign out, and delete an account. The registration account is accessed once the user enters the admin mode. They are then able to register a valid email. The home screen is accessed once a user successfully signs in. On this screen, they can control the lock, connected devices, view weather and traffic notifications, and request to view image of potential people outside of their door.</h3>
								</header>
							</article>
						

							<h4 align="left">Smart Lock and Home Automation Prototype</h4>

							<p align="justify">The lock mechanism is controlled by a servo motor. When the system is initialized, it automatically locks the door. On the app, the user can use the swipe function to lock and unlock the door, as well as check the current status of the lock. If the user is indoors, the lock can also be controlled using a button, with a screen displaying the current lock status. If the system is locked through the app, indicating that the user is leaving the house, the app updates the user on current local traffic and weather information fetched and sent to the app by the microcontroller. The lock mechanism can be seen in the image below.</p>

							<img src="images/lock.jpg" alt="Lock Mechanism" width="580" height="439"/>

							<p align="justify">The app can also control devices that the user specifies. Each device is represented by an LED. Green lights indicate that a device is turned on while a red light indicates that a device is turned off. In our demo, we added two power relays which actuated two common home appliances- a lamp and a phone charger- and paired two of the LEDs with them, while the other two LEDs are simply indicative of additional devices.</p> 

							<img src="images/devices.jpg" alt="Connected Devices" width="580" height="439"/>

							<p align="justify">The PIR sensor was used to detect motion of a person that is outside the user's door. If a person lingers outside for an extended period and the sensor passes a threshold of triggers, the camera is triggered and captures an image. This image is stored and sent when the app requests to view. Due to the limited storage size of our microcontroller, only one image is taken at a time.</p>

							<a href="#"  ><img src="images/motion_capture.jpg" alt="Motion Sensor and Image Capture" width="580" height="439"/></a>


						</div>
					</section>


					<section id="results" class="two">
						<div class="container">

							<header>
								<h2>Results and Future Scope</h2>
							</header>

							<p align="left">We were able to demonstrate our Smart Lock and Home Automation System working together with our smartphone application. The following segments show the use of our Smart Lock and Home Automation System. Due to the constraints of our physical testing environment as well as having to build the system individually in small parts, we filmed our system's functionality separately. </p>
							<p align="left">The system was successfully able to add, authorize, and remove registered users for the application through an administrator account, with unauthorized users not being allowed access. Once logged in, users were successfully able to lock and unlock the door as well as power desired devices with ease.</p>
							<p align="left">The system could also reliably sense when the user was leaving and instantly display the local weather and traffic information in the app.</p>
							<p align="left"> We were able to detect the motion of someone waiting outside the door and trigger the camera to capture and store a single image based on the presence of a possible guest or intruder, however we were unable to reach our desired goal of being able to alert the user in real-time and allow them to access a video feed- there is a 'video' button in the app- of the camera's view. This was due to a combination of memory issues and trouble in transmitting the image file as is.</p>
							<p align="left">The future scope for this project includes successfully implementing the camera alert and video streaming feature. Additionally, for a family home, parent users can be notified when their children access the lock and devices. Using some of the individual users' information through their registered account, such as to-do lists or calendars, we can also personalize the updates they receive and allow them to customize the devices and features they access.</p>


							<article class="item">
								<a href="#"><img src="images/registration.gif" alt="Registration" width="369" height="800"/></a>
								<header>
									<h3>Registration- The user must sign in order to access the functionality of the app. A user can register in the app by entering 'Admin' mode. Once in Admin mode, they can select or remove a user that has a valid google email. After a user has registered, they can sign into the app. Once the user signs in, the home screen of our app becomes visible The home screen shows all the features of our app, including the swipe feature to lock/unlock and the buttons to turn on/off the devices.</h3>
								</header>
							</article>


							<article class="item">
								<a href="#"><img src="images/notification.gif" alt="Notification" width="369" height="800" /></a>
								<header>
									<h3>Notification- Once the user arrives to the home screen, they have access to all the features of the system. Another feature is our notification system. When a user locks the door within the app, the app updates the home screen to display the current local weather and traffic information.</h3>
								</header>
							</article>

							<article class="item">
								<a href="#"><img src="images/devices.gif" alt="Connected Devices" width="480" height="270" /></a>
								<header>
									<h3>Connected Devices- Four LEDs represent connected devices on the systems. Two of the four devices are represented using power relays. Green lights indicate 'on' and red indicates 'off'. In this image, Device 1 is connected to a phone charger while Device 2 is connected to a lamp.</h3>
								</header>
							</article>

							<article class="item">
								<a href="#"><img src="images/motion.gif" alt="Motion Sensor" width="240" height="400" /></a>
								<a href="#"><img src="images/camera.gif" alt="Camera" width="240" height="400" /></a>
								<a href="#"><img src="images/camera.png" alt="Image" width="240" height="400" /></a>
								<header>
									<h3>Motion/Image Capture- If someone is right outside, the sensor prints out ‘Motion Detected’. When the motion sensor reaches its threshold, the sensor prints out ‘Someone is Outside’. The camera is then triggered, and an image is taken. The user can access this image by obtaining the image from the microcontroller's memory.</h3>
								</header>
							</article>




						</div>
					</section>

					<section id="references" class="three">
						<div class="container">

							<header>
								<h2>References</h2>
							</header>

							<ul>
								<li align="left">[1] https://www.hackster.io/arun8/iot-smart-door-simplest-method-c6c7ca</li>
								<li align="left">[2] https://iotdesignpro.com/projects/iot-based-smart-door-lock-system-using-nodemcu</li>
								<li align="left">[3] https://randomnerdtutorials.com/micropython-relay-module-esp32-esp8266/</li>
								<li align="left">[4] https://dzone.com/articles/security-sensor-tutorial-using-pir-sensor-and-esp8</li>
								<li align="left">[5] https://randomnerdtutorials.com/door-status-monitor-using-the-esp8266/</li>
								<li align="left">[6] https://www.instructables.com/Basic-Security-with-ESP8266/</li>
							</ul>
							<

						</div>
					</section>


				<!-- About Me -->
					<section id="team" class="two">
						<div class="container">

							<header>
								<h2>Our Team</h2>
							</header>

							<!-- <a href="#" class="image featured"><img src="images/pic08.jpg" alt="" /></a> -->


							<div class="row">
								<div class="4u 12u$(mobile)">
									<article class="item">
										<a href="#" class="image fit"><img src="images/ananye.jpg" alt="" /></a>
										<header>
											<h3>Ananye Pandey</h3>
											<p>Ananye Pandey is an Electrical Engineering Master’s student specializing in Data Driven Analysis and Computation.</p>
											<a href="https://www.linkedin.com/in/ananyepandey/">LinkedIn Profile</a>
										</header>
									</article>
								</div>
								<div class="4u 12u$(mobile)">
									<article class="item">
										<a href="#" class="image fit"><img src="images/niabelle.jpg" alt="" /></a>
										<header>
											<h3>Niabelle Thelemaque</h3>
											<p>Niabelle Thelemaque is an Electrical Engineering Master’s student specializing Wireless and Mobile Communications.</p>
											<a href="https://www.linkedin.com/in/niabelle-thelemaque/">LinkedIn Profile</a>
										</header>
									</article>
								</div>
								<div class="4u$ 12u$(mobile)">
									<article class="item">
										<a href="#" class="image fit"><img src="images/esha.jpg" alt="" /></a>
										<header>
											<h3>Esha Trivedi</h3>
											<p>Esha Trivedi is an Electrical Engineering Master’s student specializing in Data Driven Analysis and Computation.</p>
											<a href="https://www.linkedin.com/in/eshatrivedi/">LinkedIn Profile</a>
										</header>
									</article>
								</div>
							</div>

						</div>
					</section>

				<!-- Contact -->
					<section id="contact" class="four">
						<div class="container">

							<header>
								<h2>Contact</h2>
							</header>

							<p align="left">
								<strong>Ananye Pandey: </strong>ap3885@columbia.edu</br>
								<strong>Niabelle Thelemaque: </strong>net2128@columbia.edu</br>
								<strong>Esha Trivedi: </strong>et2633@columbia.edu</br>
							</br>
								<strong>Columbia University </strong><a href="http://www.ee.columbia.edu">Department of Electrical Engineering</a><br>
								<!-- <strong>Class Website:</strong>
									<a href="https://edblogs.columbia.edu/eecs4764-001-2019-3/">Columbia University EECS E4764 Fall '19 IoT</a></br> -->
								<strong>Instructor:</strong> <a href="http://fredjiang.com/">Professsor Xiaofan (Fred) Jiang</a>
							</p>


							<!-- <form method="post" action="#">
								<div class="row">
									<div class="6u 12u$(mobile)"><input type="text" name="name" placeholder="Name" /></div>
									<div class="6u$ 12u$(mobile)"><input type="text" name="email" placeholder="Email" /></div>
									<div class="12u$">
										<textarea name="message" placeholder="Message"></textarea>
									</div>
									<div class="12u$">
										<input type="submit" value="Send Message" />
									</div>
								</div>
							</form> -->

						</div>
					</section>

			</div>

		<!-- Footer -->
			<div id="footer">

				<!-- Copyright -->
					<ul class="copyright">
						<li>&copy; IoT Project | All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollzer.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
